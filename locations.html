<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EcoBin – Locations</title>
  <link rel="stylesheet" href="css/styles.css" />
  <style>
    #centers {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1rem;
      margin: 1rem 0;
    }
    .center-card {
      background: rgba(0,0,0,0.6);
      border: 2px solid #C8102E;
      border-radius: 0.75rem;
      box-shadow: 0 0 8px rgba(200,16,46,0.6), 0 0 16px rgba(200,16,46,0.4);
      padding: 1rem;
      color: #fff;
      text-align: center;
    }
    .center-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: 0.5rem;
      margin-bottom: 0.75rem;
    }
    .center-card h3 {
      margin: 0.5rem 0;
      color: #C8102E;
    }
    .center-card p {
      margin: 0.25rem 0;
      font-size: 0.9rem;
    }
    #pagination {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1rem;
      margin: 1rem 0;
    }
    .page-btn {
      background: #C8102E;
      color: #fff;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 0.25rem;
      cursor: pointer;
      transition: background 0.2s;
    }
    .page-btn:disabled {
      background: #550000;
      cursor: default;
    }
    #page-info {
      color: #fff;
    }
  </style>
</head>
<body>
  <!-- Glowing header -->
  <div class="glow-box" style="margin-top:2rem;">
    <header><h1>EcoBin Business</h1></header>
  </div>

  <main style="max-width:900px; margin:0 auto; padding:1rem;">
    <div class="highlight">
      <h2>Nearby Donation / Recycling Centers</h2>
      <div id="centers"></div>
      <div id="pagination">
        <button id="prev" class="page-btn">Prev</button>
        <span id="page-info"></span>
        <button id="next" class="page-btn">Next</button>
      </div>
    </div>

    <a href="index.html" class="btn" style="margin-top:1rem;">← Back to Menu</a>
  </main>

  <script>
    // A guaranteed list of 10 sample centers:
    const sampleCenters = [
      {
        name: "Goodwill Donation Center, Athens",
        address: "1650 S Milledge Ave, Athens, GA 30605",
        lat: 33.9519, lon: -83.358
      },
      {
        name: "Salvation Army Family Store",
        address: "593 S Lumpkin St, Athens, GA 30605",
        lat: 33.9511, lon: -83.377
      },
      {
        name: "Habitat for Humanity ReStore",
        address: "1930 Epps Bridge Pkwy, Athens, GA 30606",
        lat: 33.9465, lon: -83.322
      },
      {
        name: "Athens-Clarke County Landfill",
        address: "140 Colham Ferry Rd, Bishop, GA 30621",
        lat: 33.885, lon: -83.335
      },
      {
        name: "Emory University Recycling",
        address: "1762 Clifton Rd, Atlanta, GA 30322",
        lat: 33.792, lon: -84.326
      },
      {
        name: "The Arc Recycle Store",
        address: "1690 Hog Mountain Rd, Bishop, GA 30621",
        lat: 33.886, lon: -83.331
      },
      {
        name: "Habersham County Recycling Center",
        address: "347 Chestnut St, Clarkesville, GA 30523",
        lat: 34.695, lon: -83.514
      },
      {
        name: "Oconee County Recycling Center",
        address: "150 Yarbrough Dr, Watkinsville, GA 30677",
        lat: 33.924, lon: -83.410
      },
      {
        name: "Cobb County Recycling",
        address: "1100 Cobb Pl Blvd, Kennesaw, GA 30144",
        lat: 33.981, lon: -84.581
      },
      {
        name: "Chatham County Recycling",
        address: "4115 Montgomery St, Savannah, GA 31405",
        lat: 32.029, lon: -81.071
      }
    ];

    const perPage = 5;
    let currentPage = 1;

    // Build staticmap URLs:
    function mapUrl(lat, lon) {
      return `https://staticmap.openstreetmap.de/staticmap.php?center=${lat},${lon}`
           + `&zoom=13&size=300x180&markers=${lat},${lon},red`;
    }

    function renderPage() {
      const list  = document.getElementById('centers');
      const total = Math.ceil(sampleCenters.length / perPage);
      const start = (currentPage - 1) * perPage;
      const page  = sampleCenters.slice(start, start + perPage);

      list.innerHTML = '';
      page.forEach(c => {
        const card = document.createElement('div');
        card.className = 'center-card';

        const img = document.createElement('img');
        img.src = mapUrl(c.lat, c.lon);
        card.appendChild(img);

        const h3 = document.createElement('h3');
        h3.textContent = c.name;
        card.appendChild(h3);

        const addr = document.createElement('p');
        addr.textContent = c.address;
        card.appendChild(addr);

        list.appendChild(card);
      });

      document.getElementById('page-info').textContent =
        `Page ${currentPage} of ${total}`;
      document.getElementById('prev').disabled = currentPage === 1;
      document.getElementById('next').disabled = currentPage === total;
    }

    document.getElementById('prev').onclick = () => {
      if (currentPage > 1) {
        currentPage--;
        renderPage();
      }
    };
    document.getElementById('next').onclick = () => {
      if (currentPage * perPage < sampleCenters.length) {
        currentPage++;
        renderPage();
      }
    };

    // Initial render
    renderPage();
  </script>
</body>
</html>
